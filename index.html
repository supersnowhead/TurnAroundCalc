<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Turnaround Day Calculator</title>
  <link rel="stylesheet" href="Styles.css" />
  <!-- PWA / iOS app setup -->
<link rel="apple-touch-icon" href="icons/icon-180-solid.png">
<link rel="manifest" href="site.webmanifest">
<meta name="theme-color" content="#eaeaea">

<!-- iOS full-screen app mode -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Turnaround">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
</head>
<body>
  <!-- Header with Logo, Title, and Dark Mode Toggle -->
  <header>
    <img src="logo_light.jpg" alt="Logo" id="logoImg" />
    <div class="title-section">
      <h1>Turnaround Day Calculator</h1>
      <p>Calculate the total trip days, weekend days, and turnaround days.</p>
    </div>
    <div class="dark-mode-toggle">
      <label class="switch">
        <input type="checkbox" id="darkModeToggle">
        <span class="slider round"></span>
      </label>
      <span class="toggle-text">Dark Mode</span>
    </div>
  </header>

  <!-- Form Section with Fieldset and Inline Error Message -->
  <div class="form-section">
    <fieldset>
      <legend>Enter Trip Dates & Destination</legend>
      <label for="startDate">Start Date:</label>
      <input type="date" id="startDate" aria-label="Start Date" />
      <label for="endDate">End Date:</label>
      <input type="date" id="endDate" aria-label="End Date" />
      <label for="cityInput">Destination City:</label>
      <input type="text" id="cityInput" placeholder="Enter US City" />
      <button id="calculateBtn">Calculate</button>
      <button id="resetBtn">Reset</button>
      <div id="errorMessage" class="error-message" aria-live="polite"></div>
    </fieldset>
  </div>

  <!-- Main Content Section -->
  <div class="top-section">
    <div class="calc-schedule">
      <h2 class="schedule-title">Calculated Schedule</h2>
      <table id="scheduleTable">
        <thead>
          <tr>
            <th>Day</th>
            <th>Date</th>
            <th>Code</th>
          </tr>
        </thead>
        <tbody>
          <!-- Populated dynamically by script.js -->
        </tbody>
      </table>
    </div>

    <div class="results">
      <h2>Results</h2>
      <table id="resultsSummary">
        <tbody>
          <tr>
            <td>Total Trip Days</td>
            <td id="totalTripDays">0</td>
          </tr>
          <tr>
            <td>Total Weekend Days</td>
            <td id="totalWeekendDays">0</td>
          </tr>
          <tr>
            <td>Total Turnaround Days</td>
            <td id="totalTurnaroundDays">0</td>
          </tr>
        </tbody>
      </table>

      <h2>Current Date Model Display</h2>
      <table id="currentDateModel">
        <tbody>
          <tr title="Base percentage (25% for trips ≤7 days, 28% for 8–13 days, 33.33% for trips >13 days)">
            <td>Turnaround % Used in Current Model</td>
            <td id="turnaroundPercent">0%</td>
          </tr>
          <tr title="Number of weekend days in the trip">
            <td># of Weekend Days</td>
            <td id="modelWeekendDays">0</td>
          </tr>
          <tr title="Total days in the trip">
            <td>Total Trip Days</td>
            <td id="modelTripDays">0</td>
          </tr>
          <tr title="Calculated initial turnaround days before weekend bonus">
            <td>Turnaround Days Initial</td>
            <td id="turnaroundDaysInitial">0</td>
          </tr>
          <tr title="Static bonus rate: 25% if any weekend exists">
            <td>Weekend Bonus Rate</td>
            <td id="weekendBonusRate">0%</td>
          </tr>
          <tr title="% of total turnaround days contributed by weekend bonus">
            <td>Weekend Bonus Contribution (%)</td>
            <td id="weekendBonusPercent">0%</td>
          </tr>
          <tr title="Turnaround days after adding 25% of weekend days, before rounding">
            <td>Turnaround Days (Not Rounded)</td>
            <td id="turnaroundDaysNotRounded">0</td>
          </tr>
          <tr title="Final turnaround days after rounding">
            <td>Turnaround Days (Rounded)</td>
            <td id="turnaroundDaysRounded">0</td>
          </tr>
        </tbody>
      </table>

       <!-- Word summary for how the math is calculated with live variables -->
     <h2>Calculation Summary</h2>
      <div id="calcSummary" class="calc-summary"></div>

      
      <!-- Weather Forecast Container -->
      <div id="weatherForecast"></div>

      <div class="color-key">
        <h3>Color Key</h3>
        <p>
          <!-- Yellow square (T) is clickable for Dino Game -->
          <span class="legend T" id="dinoGameBtn" title="Click for Dino Game"></span>
          <span class="key-text">Travel Days</span>
        </p>
        <p>
          <span class="legend S"></span>
          <span class="key-text">OnSite</span>
        </p>
        <p>
          <!-- Green square (O) is clickable for Memory Game -->
          <span class="legend O" id="memoryGameBtn" title="Click for Memory Game"></span>
          <span class="key-text">Off At Home</span>
        </p>
      </div>
    </div>
  </div>

  <script src="dateMapping.js"></script>
  <script src="script.js"></script>
</body>
</html>




